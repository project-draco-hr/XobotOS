{
  int hostPort=usingProxy() ? ((InetSocketAddress)proxy.address()).getPort() : getURL().getPort();
  return hostPort < 0 ? getDefaultPort() : hostPort;
}
