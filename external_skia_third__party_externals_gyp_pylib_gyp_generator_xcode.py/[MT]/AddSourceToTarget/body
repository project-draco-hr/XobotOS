def AddSourceToTarget(source, pbxp, xct):
    source_extensions = ['c', 'cc', 'cpp', 'cxx', 'm', 'mm', 's']
    library_extensions = ['a', 'dylib', 'framework', 'o']
    basename = posixpath.basename(source)
    (root, ext) = posixpath.splitext(basename)
    if (ext != ''):
        ext = ext[1:].lower()
    if (ext in source_extensions):
        xct.SourcesPhase().AddFile(source)
    elif (ext in library_extensions):
        xct.FrameworksPhase().AddFile(source)
    else:
        pbxp.AddOrGetFileInRootGroup(source)
