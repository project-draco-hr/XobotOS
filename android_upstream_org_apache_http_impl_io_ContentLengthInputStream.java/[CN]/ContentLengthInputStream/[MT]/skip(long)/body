{
  if (n <= 0) {
    return 0;
  }
  byte[] buffer=new byte[BUFFER_SIZE];
  long remaining=Math.min(n,this.contentLength - this.pos);
  long count=0;
  while (remaining > 0) {
    int l=read(buffer,0,(int)Math.min(BUFFER_SIZE,remaining));
    if (l == -1) {
      break;
    }
    count+=l;
    remaining-=l;
  }
  this.pos+=count;
  return count;
}
