{
  if (averageBytesPerChar <= 0 || maxBytesPerChar <= 0) {
    throw new IllegalArgumentException("averageBytesPerChar and maxBytesPerChar must both be positive");
  }
  if (averageBytesPerChar > maxBytesPerChar) {
    throw new IllegalArgumentException("averageBytesPerChar is greater than maxBytesPerChar");
  }
  this.cs=cs;
  this.averageBytesPerChar=averageBytesPerChar;
  this.maxBytesPerChar=maxBytesPerChar;
  status=INIT;
  malformedInputAction=CodingErrorAction.REPORT;
  unmappableCharacterAction=CodingErrorAction.REPORT;
  if (trusted) {
    this.replacementBytes=replacement;
  }
 else {
    replaceWith(replacement);
  }
}
