{
  checkOpen();
  FileLock resultLock=null;
{
    boolean completed=false;
    try {
      begin();
      resultLock=basicLock(position,size,shared,true);
      completed=true;
    }
  finally {
      end(completed);
    }
  }
  return resultLock;
}
