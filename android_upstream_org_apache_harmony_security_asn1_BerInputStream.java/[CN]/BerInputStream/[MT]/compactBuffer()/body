{
  if (offset != buffer.length) {
    byte[] newBuffer=new byte[offset];
    System.arraycopy(buffer,0,newBuffer,0,offset);
    buffer=newBuffer;
  }
}
