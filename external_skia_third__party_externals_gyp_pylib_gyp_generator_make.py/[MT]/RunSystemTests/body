def RunSystemTests(flavor):
    'Run tests against the system to compute default settings for commands.\n\n  Returns:\n    dictionary of settings matching the block of command-lines used in\n    SHARED_HEADER.  E.g. the dictionary will contain a ARFLAGS.target\n    key for the default ARFLAGS for the target ar command.\n  '
    ar_target = os.environ.get('AR.target', os.environ.get('AR', 'ar'))
    cc_target = os.environ.get('CC.target', os.environ.get('CC', 'cc'))
    arflags_target = 'crs'
    if ((flavor != 'mac') and gyp.system_test.TestArSupportsT(ar_command=ar_target, cc_command=cc_target)):
        arflags_target = 'crsT'
    ar_host = os.environ.get('AR.host', 'ar')
    cc_host = os.environ.get('CC.host', 'gcc')
    arflags_host = 'crs'
    if ((flavor != 'mac') and gyp.system_test.TestArSupportsT(ar_command=ar_host, cc_command=cc_host)):
        arflags_host = 'crsT'
    link_flags = ''
    if gyp.system_test.TestLinkerSupportsThreads(cc_command=cc_target):
        link_flags = '-Wl,--threads -Wl,--thread-count=4'
    return {'ARFLAGS.target': arflags_target, 'ARFLAGS.host': arflags_host, 'LINK_flags': link_flags, }
