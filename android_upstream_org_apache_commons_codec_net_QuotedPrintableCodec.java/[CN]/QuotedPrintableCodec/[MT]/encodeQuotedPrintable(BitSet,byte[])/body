{
  if (bytes == null) {
    return null;
  }
  if (printable == null) {
    printable=PRINTABLE_CHARS;
  }
  ByteArrayOutputStream buffer=new ByteArrayOutputStream();
  for (int i=0; i < bytes.length; i++) {
    int b=bytes[i];
    if (b < 0) {
      b=256 + b;
    }
    if (printable.get(b)) {
      buffer.write(b);
    }
 else {
      encodeQuotedPrintable(b,buffer);
    }
  }
  return buffer.toByteArray();
}
