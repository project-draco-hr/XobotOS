def _GetModuleDefinition(spec):
    def_file = ''
    if (spec['type'] in ['shared_library', 'loadable_module']):
        def_files = [s for s in spec.get('sources', []) if s.endswith('.def')]
        if (len(def_files) == 1):
            def_file = _FixPath(def_files[0])
        elif def_files:
            raise ValueError(('Multiple module definition files in one target, target %s lists multiple .def files: %s' % (spec['target_name'], ' '.join(def_files))))
    return def_file
