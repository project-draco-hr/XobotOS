{
  if (outstream == null) {
    throw new IllegalArgumentException("Output stream may not be null");
  }
  if (this.buffer != null) {
    outstream.write(this.buffer);
  }
 else {
    wrappedEntity.writeTo(outstream);
  }
}
