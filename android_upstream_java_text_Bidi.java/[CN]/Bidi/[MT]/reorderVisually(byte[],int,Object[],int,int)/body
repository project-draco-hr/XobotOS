{
  if (count < 0 || levelStart < 0 || objectStart < 0 || count > levels.length - levelStart || count > objects.length - objectStart) {
    throw new IllegalArgumentException("Invalid ranges (levels=" + levels.length + ", levelStart="+ levelStart+ ", objects="+ objects.length+ ", objectStart="+ objectStart+ ", count="+ count+ ")");
  }
  byte[] realLevels=new byte[count];
  System.arraycopy(levels,levelStart,realLevels,0,count);
  int[] indices=ubidi_reorderVisual(realLevels,count);
  ArrayList<Object> result=new ArrayList<Object>(count);
  for (int i=0; i < count; i++) {
    result.add(objects[objectStart + indices[i]]);
  }
  System.arraycopy(result.toArray(),0,objects,objectStart,count);
}
