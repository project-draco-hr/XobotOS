{
  if (buffer == null) {
    return 0;
  }
  int pos=0;
  int len=buffer.length;
  int rem;
  for (int i=offset; i < offset + length; i++) {
    rem=dsts[i].remaining();
    if (len - pos < rem) {
      dsts[i].put(buffer,pos,len - pos);
      pos=len;
      break;
    }
    dsts[i].put(buffer,pos,rem);
    pos+=rem;
  }
  if (pos != len) {
    throw new AlertException(AlertProtocol.INTERNAL_ERROR,new SSLException("The received application data could not be fully written" + "into the destination buffers"));
  }
  buffer=null;
  return len;
}
