{
  if (connection == null) {
    connect();
  }
  if (socketOut != null || requestOut != null || socketIn != null) {
    throw new IllegalStateException();
  }
  socketOut=connection.getOutputStream();
  requestOut=socketOut;
  socketIn=connection.getInputStream();
  if (hasRequestBody()) {
    initRequestBodyOut();
  }
}
