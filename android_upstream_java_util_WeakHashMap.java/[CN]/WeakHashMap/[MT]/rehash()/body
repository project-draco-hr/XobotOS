{
  int length=elementData.length * 2;
  if (length == 0) {
    length=1;
  }
  Entry<K,V>[] newData=newEntryArray(length);
  for (int i=0; i < elementData.length; i++) {
    Entry<K,V> entry=elementData[i];
    while (entry != null) {
      int index=entry.isNull ? 0 : (entry.hash & 0x7FFFFFFF) % length;
      Entry<K,V> next=entry.next;
      entry.next=newData[index];
      newData[index]=entry;
      entry=next;
    }
  }
  elementData=newData;
  computeMaxSize();
}
