{
  if (Double.isInfinite(val) || Double.isNaN(val)) {
    throw new NumberFormatException("Infinity or NaN: " + val);
  }
  return new BigDecimal(Double.toString(val));
}
