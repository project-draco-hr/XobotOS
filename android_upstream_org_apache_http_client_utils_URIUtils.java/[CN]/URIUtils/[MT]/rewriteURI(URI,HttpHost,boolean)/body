{
  if (uri == null) {
    throw new IllegalArgumentException("URI may nor be null");
  }
  if (target != null) {
    return URIUtils.createURI(target.getSchemeName(),target.getHostName(),target.getPort(),uri.getRawPath(),uri.getRawQuery(),dropFragment ? null : uri.getRawFragment());
  }
 else {
    return URIUtils.createURI(null,null,-1,uri.getRawPath(),uri.getRawQuery(),dropFragment ? null : uri.getRawFragment());
  }
}
