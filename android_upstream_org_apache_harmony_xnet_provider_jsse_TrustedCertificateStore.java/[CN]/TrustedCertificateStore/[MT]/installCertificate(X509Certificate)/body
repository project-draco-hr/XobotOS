{
  if (cert == null) {
    throw new NullPointerException("cert == null");
  }
  File system=getCertificateFile(systemDir,cert);
  if (system.exists()) {
    File deleted=getCertificateFile(deletedDir,cert);
    if (deleted.exists()) {
      if (!deleted.delete()) {
        throw new IOException("Could not remove " + deleted);
      }
      return;
    }
    return;
  }
  File user=getCertificateFile(addedDir,cert);
  if (user.exists()) {
    return;
  }
  writeCertificate(user,cert);
}
