{
synchronized (lock) {
    boolean willRun=!cancelled && when > 0;
    cancelled=true;
    return willRun;
  }
}
