{
  InputStream in=new BufferedInputStream(new FileInputStream(journalFile));
  try {
    String magic=Streams.readAsciiLine(in);
    String version=Streams.readAsciiLine(in);
    String appVersionString=Streams.readAsciiLine(in);
    String valueCountString=Streams.readAsciiLine(in);
    String blank=Streams.readAsciiLine(in);
    if (!MAGIC.equals(magic) || !VERSION_1.equals(version) || !Integer.toString(appVersion).equals(appVersionString)|| !Integer.toString(valueCount).equals(valueCountString)|| !"".equals(blank)) {
      throw new IOException("unexpected journal header: [" + magic + ", "+ version+ ", "+ valueCountString+ ", "+ blank+ "]");
    }
    while (true) {
      try {
        readJournalLine(Streams.readAsciiLine(in));
      }
 catch (      EOFException endOfJournal) {
        break;
      }
    }
  }
  finally {
    IoUtils.closeQuietly(in);
  }
}
