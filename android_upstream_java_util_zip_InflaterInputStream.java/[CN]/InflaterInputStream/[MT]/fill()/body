{
  checkClosed();
  if (nativeEndBufSize > 0) {
    ZipFile.RAFStream is=(ZipFile.RAFStream)in;
synchronized (is.mSharedRaf) {
      long len=is.mLength - is.mOffset;
      if (len > nativeEndBufSize)       len=nativeEndBufSize;
      int cnt=inf.setFileInput(is.mSharedRaf.getFD(),is.mOffset,nativeEndBufSize);
      is.skip(cnt);
    }
  }
 else {
    if ((len=in.read(buf)) > 0) {
      inf.setInput(buf,0,len);
    }
  }
}
