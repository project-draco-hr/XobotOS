{
  if (password == null) {
    throw new IllegalStateException("The password has been cleared");
  }
  char[] result=new char[password.length];
  System.arraycopy(password,0,result,0,password.length);
  return result;
}
