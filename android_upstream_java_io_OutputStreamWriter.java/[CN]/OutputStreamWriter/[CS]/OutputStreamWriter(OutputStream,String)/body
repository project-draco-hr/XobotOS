{
  super(out);
  if (enc == null) {
    throw new NullPointerException();
  }
  this.out=out;
  try {
    encoder=Charset.forName(enc).newEncoder();
  }
 catch (  Exception e) {
    throw new UnsupportedEncodingException(enc);
  }
  encoder.onMalformedInput(CodingErrorAction.REPLACE);
  encoder.onUnmappableCharacter(CodingErrorAction.REPLACE);
}
