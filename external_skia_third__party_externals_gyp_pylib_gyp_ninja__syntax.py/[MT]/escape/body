def escape(string):
    'Escape a string such that it can be embedded into a Ninja file without\n    further interpretation.'
    assert ('\n' not in string), 'Ninja syntax does not allow newlines'
    return string.replace('$', '$$')
