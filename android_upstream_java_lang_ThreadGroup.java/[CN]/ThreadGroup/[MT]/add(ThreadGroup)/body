{
synchronized (groups) {
    if (isDestroyed) {
      throw new IllegalThreadStateException();
    }
    groups.add(g);
  }
}
