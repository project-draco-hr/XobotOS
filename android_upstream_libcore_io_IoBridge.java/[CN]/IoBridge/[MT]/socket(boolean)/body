{
  FileDescriptor fd;
  try {
    fd=Libcore.os.socket(AF_INET6,stream ? SOCK_STREAM : SOCK_DGRAM,0);
    if (!stream) {
      Libcore.os.setsockoptInt(fd,IPPROTO_IPV6,IPV6_MULTICAST_HOPS,1);
    }
    return fd;
  }
 catch (  ErrnoException errnoException) {
    throw errnoException.rethrowAsSocketException();
  }
}
