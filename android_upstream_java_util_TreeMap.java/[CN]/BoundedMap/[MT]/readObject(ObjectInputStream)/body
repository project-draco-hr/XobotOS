{
  GetField fields=stream.readFields();
  comparator=(Comparator<? super K>)fields.get("comparator",null);
  if (comparator == null) {
    comparator=(Comparator<? super K>)NATURAL_ORDER;
  }
  int size=stream.readInt();
  for (int i=0; i < size; i++) {
    putInternal((K)stream.readObject(),(V)stream.readObject());
  }
}
