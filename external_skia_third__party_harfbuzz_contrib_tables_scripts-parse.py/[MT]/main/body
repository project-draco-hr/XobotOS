def main(infile, outfile):
    ranges = unicode_file_parse(infile, ScriptDict(script_to_harfbuzz), 'HB_Script_Common')
    ranges = sort_and_merge(ranges)
    print  >> outfile, '// Generated from Unicode script tables\n'
    print  >> outfile, '#ifndef SCRIPT_PROPERTIES_H_'
    print  >> outfile, '#define SCRIPT_PROPERTIES_H_\n'
    print  >> outfile, '#include <stdint.h>'
    print  >> outfile, '#include "harfbuzz-shaper.h"\n'
    print  >> outfile, 'struct script_property {'
    print  >> outfile, '  uint32_t range_start;'
    print  >> outfile, '  uint32_t range_end;'
    print  >> outfile, '  HB_Script script;'
    print  >> outfile, '};\n'
    print  >> outfile, 'static const struct script_property script_properties[] = {'
    for (start, end, value) in ranges:
        print  >> outfile, ('  {0x%x, 0x%x, %s},' % (start, end, value))
    print  >> outfile, '};\n'
    print  >> outfile, ('static const unsigned script_properties_count = %d;\n' % len(ranges))
    print  >> outfile, '#endif  // SCRIPT_PROPERTIES_H_'
