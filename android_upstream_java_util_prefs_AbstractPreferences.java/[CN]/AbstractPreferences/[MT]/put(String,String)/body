{
  if (key == null || value == null) {
    throw new NullPointerException();
  }
  if (key.length() > MAX_KEY_LENGTH || value.length() > MAX_VALUE_LENGTH) {
    throw new IllegalArgumentException();
  }
synchronized (lock) {
    checkState();
    putSpi(key,value);
  }
  notifyPreferenceChange(key,value);
}
